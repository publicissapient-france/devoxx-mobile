define(["log","ui"],function(e,t){var n=e.getLogger("collection");n.info("Loading collection.js"),n.info("Defining collection object");var r={views:{}};return n.info("Defining Model"),r.EntryModel=Backbone.Model.extend({}),n.info("Defining collection"),r.EntryCollection=Backbone.Collection.extend({model:r.EntryModel,initialize:function(e,t){n.info("Initializing Entry Collection"),this.dataType=t.dataType,this.url=t.url,this.parse=function(e){return t.parse?t.parse(e):e}}}),n.info("Defining view"),r.EntryListView=Backbone.View.extend({initialize:function(){n.info("Initializing Entry List View"),this.el=$(this.options.el),this.collection=new r.EntryCollection([],{dataType:this.options.dataType,url:this.options.fetchUrl,parse:this.options.parse}),this.collection.bind("reset",this.render,this)},render:function(){n.info("Rendering List View");var e=$(this.options.el),t=_.template(this.options.collectionTemplate,{entries:this.collection.models,view:this.options.view});return e.html(t),e.listview("refresh"),this.options.postRender&&this.options.postRender(this.collection.models),this}}),n.info("Loaded collection"),r});