/*
* jQuery Mobile Framework 1.1.0-rc.1
* http://jquerymobile.com
*
* Copyright 2011 (c) jQuery Project
* Dual licensed under the MIT or GPL Version 2 licenses.
* http://jquery.org/license
*
*/

// Script: jQuery hashchange event
// 
// *Version: 1.3, Last updated: 7/21/2010*
// 
// Project Home - http://benalman.com/projects/jquery-hashchange-plugin/
// GitHub       - http://github.com/cowboy/jquery-hashchange/
// Source       - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.js
// (Minified)   - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.min.js (0.8kb gzipped)
// 
// About: License
// 
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
// 
// hashchange event - http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/
// document.domain - http://benalman.com/code/projects/jquery-hashchange/examples/document_domain/
// 
// About: Support and Testing
// 
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
// 
// jQuery Versions - 1.2.6, 1.3.2, 1.4.1, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-4, Chrome 5-6, Safari 3.2-5,
//                   Opera 9.6-10.60, iPhone 3.1, Android 1.6-2.2, BlackBerry 4.6-5.
// Unit Tests      - http://benalman.com/code/projects/jquery-hashchange/unit/
// 
// About: Known issues
// 
// While this jQuery hashchange event implementation is quite stable and
// robust, there are a few unfortunate browser bugs surrounding expected
// hashchange event-based behaviors, independent of any JavaScript
// window.onhashchange abstraction. See the following examples for more
// information:
// 
// Chrome: Back Button - http://benalman.com/code/projects/jquery-hashchange/examples/bug-chrome-back-button/
// Firefox: Remote XMLHttpRequest - http://benalman.com/code/projects/jquery-hashchange/examples/bug-firefox-remote-xhr/
// WebKit: Back Button in an Iframe - http://benalman.com/code/projects/jquery-hashchange/examples/bug-webkit-hash-iframe/
// Safari: Back Button from a different domain - http://benalman.com/code/projects/jquery-hashchange/examples/bug-safari-back-from-diff-domain/
// 
// Also note that should a browser natively support the window.onhashchange 
// event, but not report that it does, the fallback polling loop will be used.
// 
// About: Release History
// 
// 1.3   - (7/21/2010) Reorganized IE6/7 Iframe code to make it more
//         "removable" for mobile-only development. Added IE6/7 document.title
//         support. Attempted to make Iframe as hidden as possible by using
//         techniques from http://www.paciellogroup.com/blog/?p=604. Added 
//         support for the "shortcut" format $(window).hashchange( fn ) and
//         $(window).hashchange() like jQuery provides for built-in events.
//         Renamed jQuery.hashchangeDelay to <jQuery.fn.hashchange.delay> and
//         lowered its default value to 50. Added <jQuery.fn.hashchange.domain>
//         and <jQuery.fn.hashchange.src> properties plus document-domain.html
//         file to address access denied issues when setting document.domain in
//         IE6/7.
// 1.2   - (2/11/2010) Fixed a bug where coming back to a page using this plugin
//         from a page on another domain would cause an error in Safari 4. Also,
//         IE6/7 Iframe is now inserted after the body (this actually works),
//         which prevents the page from scrolling when the event is first bound.
//         Event can also now be bound before DOM ready, but it won't be usable
//         before then in IE6/7.
// 1.1   - (1/21/2010) Incorporated document.documentMode test to fix IE8 bug
//         where browser version is incorrectly reported as 8.0, despite
//         inclusion of the X-UA-Compatible IE=EmulateIE7 meta tag.
// 1.0   - (1/9/2010) Initial Release. Broke out the jQuery BBQ event.special
//         window.onhashchange functionality into a separate plugin for users
//         who want just the basic event & back button support, without all the
//         extra awesomeness that BBQ provides. This plugin will be included as
//         part of jQuery BBQ, but also be available separately.

/*!
 * jQuery UI Widget @VERSION
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */

(function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){return n(r,e,t),r.mobile}):n(e.jQuery,e,t)})(this,document,function(e,t,n,r){(function(e,t,n,r){function S(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function x(t,n){var i=t.type,s,o,a,l,c,h,p,d;t=e.Event(t),t.type=n,s=t.originalEvent,o=e.event.props,i.search(/mouse/)>-1&&(o=f);if(s)for(p=o.length,l;p;)l=o[--p],t[l]=s[l];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){a=S(s),i=a.touches,c=a.changedTouches,h=i&&i.length?i[0]:c&&c.length?c[0]:r;if(h)for(d=0,len=u.length;d<len;d++)l=u[d],t[l]=h[l]}return t}function T(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function N(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function C(){g=!1}function k(){g=!0}function L(){E=0,v.length=0,m=!1,k()}function A(){C()}function O(){M(),c=setTimeout(function(){c=0,L()},e.vmouse.resetTimerDuration)}function M(){c&&(clearTimeout(c),c=0)}function _(t,n,r){var i;if(r&&r[t]||!r&&N(n.target,t))i=x(n,t),e(n.target).trigger(i);return i}function D(t){var n=e.data(t.target,s);if(!m&&(!E||E!==n)){var r=_("v"+t.type,t);r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function P(t){var n=S(t).touches,r,i;if(n&&n.length===1){r=t.target,i=T(r);if(i.hasVirtualBinding){E=w++,e.data(r,s,E),M(),A(),d=!1;var o=S(t).touches[0];h=o.pageX,p=o.pageY,_("vmouseover",t,i),_("vmousedown",t,i)}}}function H(e){if(g)return;d||_("vmousecancel",e,T(e.target)),d=!0,O()}function B(t){if(g)return;var n=S(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold;d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i,flags=T(t.target),d&&!r&&_("vmousecancel",t,flags),_("vmousemove",t,flags),O()}function j(e){if(g)return;k();var t=T(e.target),n;_("vmouseup",e,t);if(!d){var r=_("vclick",e,t);r&&r.isDefaultPrevented()&&(n=S(e).changedTouches[0],v.push({touchID:E,x:n.clientX,y:n.clientY}),m=!0)}_("vmouseout",e,t),d=!1,O()}function F(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function I(){}function q(t){var n=t.substr(1);return{setup:function(r,s){F(this)||e.data(this,i,{});var o=e.data(this,i);o[t]=!0,l[t]=(l[t]||0)+1,l[t]===1&&b.bind(n,D),e(this).bind(n,I),y&&(l.touchstart=(l.touchstart||0)+1,l.touchstart===1&&b.bind("touchstart",P).bind("touchend",j).bind("touchmove",B).bind("scroll",H))},teardown:function(r,s){--l[t],l[t]||b.unbind(n,D),y&&(--l.touchstart,l.touchstart||b.unbind("touchstart",P).unbind("touchmove",B).unbind("touchend",j).unbind("scroll",H));var o=e(this),u=e.data(this,i);u&&(u[t]=!1),o.unbind(n,I),F(this)||o.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=e.event.props.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var R=0;R<o.length;R++)e.event.special[o[R]]=q(o[R]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX,o=t.clientY,threshold=e.vmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=v[a],l=0;if(u===r&&Math.abs(f.x-i)<threshold&&Math.abs(f.y-o)<threshold||e.data(u,s)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)})(jQuery,t,n),function(e,t,r){function l(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var i="hashchange",s=n,o,u=e.event.special,a=s.documentMode,f="on"+i in t&&(a===r||a>7);e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.fn[i].delay=50,u[i]=e.extend(u[i],{setup:function(){if(f)return!1;e(o.start)},teardown:function(){if(f)return!1;e(o.stop)}}),o=function(){function p(){var n=l(),r=h(u);n!==u?(c(u=n,r),e(t).trigger(i)):r!==u&&(location.href=location.href.replace(/#.*/,"")+r),o=setTimeout(p,e.fn[i].delay)}var n={},o,u=l(),a=function(e){return e},c=a,h=a;return n.start=function(){o||p()},n.stop=function(){o&&clearTimeout(o),o=r},e.browser.msie&&!f&&function(){var t,r;n.start=function(){t||(r=e.fn[i].src,r=r&&r+l(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||c(l()),p()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow,s.onpropertychange=function(){try{event.propertyName==="title"&&(t.document.title=s.title)}catch(e){}})},n.stop=a,h=function(){return l(t.location.href)},c=function(n,r){var o=t.document,u=e.fn[i].domain;n!==r&&(o.title=s.title,o.open(),u&&o.write('<script>document.domain="'+u+'"</script>'),o.close(),t.location.hash=n)}}(),n}()}(jQuery,this),function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var r=0,i;(i=t[r])!=null;r++)e(i).triggerHandler("remove");n(t)}}else{var r=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){e(this).triggerHandler("remove")}),r.call(e(this),t,n)})}}e.widget=function(t,n,r){var i=t.split(".")[0],s;t=t.split(".")[1],s=i+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][s]=function(n){return!!e.data(n,t)},e[i]=e[i]||{},e[i][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var o=new n;o.options=e.extend(!0,{},o.options),e[i][t].prototype=e.extend(!0,o,{namespace:i,widgetName:t,widgetEventPrefix:e[i][t].prototype.widgetEventPrefix||t,widgetBaseClass:s},r),e.widget.bridge(t,e[i][t])},e.widget.bridge=function(n,r){e.fn[n]=function(i){var s=typeof i=="string",o=Array.prototype.slice.call(arguments,1),u=this;return i=!s&&o.length?e.extend.apply(null,[!0,i].concat(o)):i,s&&i.charAt(0)==="_"?u:(s?this.each(function(){var r=e.data(this,n);if(!r)throw"cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+i+"'";if(!e.isFunction(r[i]))throw"no such method '"+i+"' for "+n+" widget instance";var s=r[i].apply(r,o);if(s!==r&&s!==t)return u=s,!1}):this.each(function(){var t=e.data(this,n);t?t.option(i||{})._init():e.data(this,n,new r(i,this))}),u)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){var t={};return e.metadata&&(t=e.metadata.get(element)[this.widgetName]),t},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(n,r){var i=n;if(arguments.length===0)return e.extend({},this.options);if(typeof n=="string"){if(r===t)return this.options[n];i={},i[n]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,r){var i=this.options[t];n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),r=r||{};if(n.originalEvent)for(var s=e.event.props.length,o;s;)o=e.event.props[--s],n[o]=n.originalEvent[o];return this.element.trigger(n,r),!(e.isFunction(i)&&i.call(this.element[0],n,r)===!1||n.isDefaultPrevented())}}}(jQuery),function(e,t){e.widget("mobile.widget",{_createWidget:function(){e.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_getCreateOptions:function(){var n=this.element,r={};return e.each(this.options,function(e){var i=n.jqmData(e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}));i!==t&&(r[e]=i)}),r},enhanceWithin:function(t,n){this.enhance(e(this.options.initSelector,e(t)),n)},enhance:function(t,n){var r,i,s=e(t),o=this;s=e.mobile.enhanceable(s),n&&s.length&&(r=e.mobile.closestPageData(s),i=r&&r.keepNativeSelector()||"",s=s.not(i)),s[this.widgetName]()}})}(jQuery),function(e,t,r){var i={};e.mobile=e.extend({},{version:"1.1.0-rc.1",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:10,touchOverflowEnabled:!1,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",loadingMessageTextVisible:!1,loadingMessageTheme:"a",pageLoadErrorMessageTheme:"e",autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(r){e.type(r)!=="number"&&(r=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,r),e(n).trigger("silentscroll",{x:0,y:r})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:i,nsNormalize:function(t){if(!t)return;return i[t]||(i[t]=e.camelCase(e.mobile.ns+t))},getInheritedTheme:function(e,t){var n=e[0],r="",i=/ui-(bar|body)-([a-z])\b/,s,o;while(n){var s=n.className||"";if((o=i.exec(s))&&(r=o[2]))break;n=n.parentNode}return r||t||"a"},closestPageData:function(e){return e.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,n){if(!e.mobile.ignoreContentEnabled)return t;var r=t.length,i=e(),s,o,u;for(var a=0;a<r;a++){o=t.eq(a),u=!1,s=t[a];while(s){var f=s.getAttribute?s.getAttribute("data-"+e.mobile.ns+n):"";if(f==="false"){u=!0;break}s=s.parentNode}u||(i=i.add(o))}return i}},e.mobile),e.fn.jqmData=function(t,n){var r;return typeof t!="undefined"&&(r=this.data(t?e.mobile.nsNormalize(t):t,n)),r},e.jqmData=function(t,n,r){var i;return typeof n!="undefined"&&(i=e.data(t,n?e.mobile.nsNormalize(n):n,r)),i},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,n){return e.removeData(t,e.mobile.nsNormalize(n))},e.fn.removeWithDependents=function(){e.removeWithDependents(this)},e.removeWithDependents=function(t){var n=e(t);(n.jqmData("dependents")||e()).remove(),n.remove()},e.fn.addDependents=function(t){e.addDependents(e(this),t)},e.addDependents=function(t,n){var r=e(t).jqmData("dependents")||e();e(t).jqmData("dependents",e.merge(r,n))},e.fn.getEncodedText=function(){return e("<div/>").text(e(this).text()).html()},e.fn.jqmEnhanceable=function(){return e.mobile.enhanceable(this)},e.fn.jqmHijackable=function(){return e.mobile.hijackable(this)};var s=e.find,o=/:jqmData\(([^)]*)\)/g;e.find=function(t,n,r,i){return t=t.replace(o,"[data-"+(e.mobile.ns||"")+"$1]"),s.call(this,t,n,r,i)},e.extend(e.find,s),e.find.matches=function(t,n){return e.find(t,null,null,n)},e.find.matchesSelector=function(t,n){return e.find(n,null,null,[t]).length>0}}(jQuery,this),function(e,r){var i=e(t),s=e("html");e.mobile.media=function(){var t={},r=e("<div id='jquery-mediatest'>"),i=e("<body>").append(r);return function(e){if(!(e in t)){var o=n.createElement("style"),u="@media "+e+" { #jquery-mediatest { position:absolute; } }";o.type="text/css",o.styleSheet?o.styleSheet.cssText=u:o.appendChild(n.createTextNode(u)),s.prepend(i).prepend(o),t[e]=r.css("position")==="absolute",i.add(o).remove()}return t[e]}}()}(jQuery),function(e,r){function c(e){var t=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+u.join(t+" ")+t).split(" ");for(var i in n)if(o[n[i]]!==r)return!0}function h(e,t,r){var s=n.createElement("div"),o=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},a=function(e){return"-"+e.charAt(0).toLowerCase()+e.substr(1)+"-"},f=function(n){var r=a(n)+e+": "+t+";",i=o(n),u=i+o(e);s.setAttribute("style",r),!s.style[u]||(c=!0)},l=r?[r]:u,c;for(i=0;i<l.length;i++)f(l[i]);return!!c}function p(){var t="transform-3d";return h("perspective","10px","moz")||e.mobile.media("(-"+u.join("-"+t+"),(-")+"-"+t+"),("+t+")")}function d(){var t=location.protocol+"//"+location.host+location.pathname+"ui-dir/",n=e("head base"),r=null,i="",o,u;return n.length?i=n.attr("href"):n=r=e("<base>",{href:t}).appendTo("head"),o=e("<a href='testurl' />").prependTo(s),u=o[0].href,n[0].href=i||location.pathname,r&&r.remove(),u.indexOf(t)===0}var s=e("<body>").prependTo("html"),o=s[0].style,u=["Webkit","Moz","O"],a="palmGetResource"in t,f=t.operamini&&{}.toString.call(t.operamini)==="[object OperaMini]",l=t.blackberry;e.extend(e.mobile,{browser:{}}),e.mobile.browser.ie=function(){var e=3,t=n.createElement("div"),r=t.all||[];while(t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->",r[0]);return e>4?e:!e}(),e.extend(e.support,{orientation:"orientation"in t&&"onorientationchange"in t,touch:"ontouchend"in n,cssTransitions:"WebKitTransitionEvent"in t||h("transition","height 100ms linear"),pushState:"pushState"in history&&"replaceState"in history,mediaquery:e.mobile.media("only all"),cssPseudoElement:!!c("content"),touchOverflow:!!c("overflowScrolling"),cssTransform3d:p(),boxShadow:!!c("boxShadow")&&!l,scrollTop:("pageXOffset"in t||"scrollTop"in n.documentElement||"scrollTop"in s[0])&&!a&&!f,dynamicBaseTag:d()}),s.remove();var v=function(){var e=t.navigator.userAgent;return e.indexOf("Nokia")>-1&&(e.indexOf("Symbian/3")>-1||e.indexOf("Series60/5")>-1)&&e.indexOf("AppleWebKit")>-1&&e.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();e.mobile.gradeA=function(){return e.support.mediaquery||e.mobile.browser.ie&&e.mobile.browser.ie>=7},e.mobile.ajaxBlacklist=t.blackberry&&!t.WebKitPoint||f||v,v&&e(function(){e("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),e.support.boxShadow||e("html").addClass("ui-mobile-nosupport-boxshadow")}(jQuery),function(e,t,r){function f(t,n,r){var i=r.type;r.type=n,e.event.handle.call(t,r),r.type=i}e.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn[n]=!0});var i=e.support.touch,s="touchmove scroll",o=i?"touchstart":"mousedown",u=i?"touchend":"mouseup",a=i?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function o(e,n){r=n,f(t,r?"scrollstart":"scrollstop",e)}var t=this,n=e(t),r,i;n.bind(s,function(t){if(!e.event.special.scrollstart.enabled)return;r||o(t,!0),clearTimeout(i),i=setTimeout(function(){o(t,!1)},50)})}},e.event.special.tap={setup:function(){var t=this,r=e(t);r.bind("vmousedown",function(i){function a(){clearTimeout(u)}function l(){a(),r.unbind("vclick",c).unbind("vmouseup",a),e(n).unbind("vmousecancel",l)}function c(e){l(),s==e.target&&f(t,"tap",e)}if(i.which&&i.which!==1)return!1;var s=i.target,o=i.originalEvent,u;r.bind("vmouseup",a).bind("vclick",c),e(n).bind("vmousecancel",l),u=setTimeout(function(){f(t,"taphold",e.Event("taphold",{target:s}))},750)})}},e.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var t=this,n=e(t);n.bind(o,function(t){function f(t){if(!s)return;var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;o={time:(new Date).getTime(),coords:[n.pageX,n.pageY]},Math.abs(s.coords[0]-o.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}var i=t.originalEvent.touches?t.originalEvent.touches[0]:t,s={time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:e(t.target)},o;n.bind(a,f).one(u,function(t){n.unbind(a,f),s&&o&&o.time-s.time<e.event.special.swipe.durationThreshold&&Math.abs(s.coords[0]-o.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(s.coords[1]-o.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&s.origin.trigger("swipe").trigger(s.coords[0]>o.coords[0]?"swipeleft":"swiperight"),s=o=r})})}},function(e,t){function l(){var e=s();e!==o&&(o=e,r.trigger("orientationchange"))}var r=e(t),i,s,o,u,a,f={0:!0,180:!0};if(e.support.orientation){u=e.mobile.media("all and (orientation: landscape)"),a=f[t.orientation];if(u&&a||!u&&!a)f={"-90":!0,90:!0}}e.event.special.orientationchange=i={setup:function(){if(e.support.orientation&&e.mobile.orientationChangeEnabled)return!1;o=s(),r.bind("throttledresize",l)},teardown:function(){if(e.support.orientation&&e.mobile.orientationChangeEnabled)return!1;r.unbind("throttledresize",l)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=s(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=s=function(){var r=!0,i=n.documentElement;return e.support.orientation?r=f[t.orientation]:r=i&&i.clientWidth/i.clientHeight<1.1,r?"portrait":"landscape"}}(jQuery,t),function(){e.event.special.throttledresize={setup:function(){e(this).bind("resize",n)},teardown:function(){e(this).unbind("resize",n)}};var t=250,n=function(){s=(new Date).getTime(),o=s-r,o>=t?(r=s,e(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,t-o))},r=0,i,s,o}(),e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)}}})}(jQuery,this),function(e,t){e.widget("mobile.page",e.mobile.widget,{options:{theme:"c",domCache:!1,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){if(this._trigger("beforecreate")===!1)return!1;this.element.attr("tabindex","0").addClass("ui-page ui-body-"+this.options.theme)},keepNativeSelector:function(){var t=this.options,n=t.keepNative&&e.trim(t.keepNative);return n&&t.keepNative!==t.keepNativeDefault?[t.keepNative,t.keepNativeDefault].join(", "):t.keepNativeDefault}})}(jQuery),function(e,t,n){function r(n,r,i,s){n&&!e.support.cssTransform3d&&e.mobile.transitionFallbacks[n]&&(n=e.mobile.transitionFallbacks[n]);var o=new e.Deferred,u=r?" reverse":"",a=e.mobile.urlHistory.getActive(),f=a.lastScroll||e.mobile.defaultHomeScroll,l=e.mobile.getScreenHeight(),c="ui-mobile-viewport-transitioning viewport-"+n,h=e.mobile.maxTransitionWidth!==!1&&e(t).width()>e.mobile.maxTransitionWidth,p=!e.support.cssTransitions||h||!n||n==="none",d=function(){s&&s.removeClass(e.mobile.activePageClass+" out in reverse "+n).height(""),i.addClass(e.mobile.activePageClass),p||i.animationComplete(v),e.mobile.focusPage(i),i.height(l+f),e.mobile.silentScroll(f),i.addClass(n+" in"+u),p&&v()},v=function(){i.removeClass("out in reverse "+n).height("").parent().removeClass(c),o.resolve(n,r,i,s,!0)};return i.parent().addClass(c),s&&!p?s.animationComplete(d).height(l+e(t).scrollTop()).addClass(n+" out"+u):d(),o.promise()}e.mobile.defaultTransitionHandler=r,e.mobile.transitionHandlers={"default":e.mobile.defaultTransitionHandler},e.mobile.transitionFallbacks={}}(jQuery,this),function(e,r){function b(t){!!a&&(!a.closest(".ui-page-active").length||t)&&a.removeClass(e.mobile.activeBtnClass),a=null}function w(){h=!1,c.length>0&&e.mobile.changePage.apply(null,c.pop())}function T(t,n,r,i){n&&n.data("page")._trigger("beforehide",null,{nextPage:t}),t.data("page")._trigger("beforeshow",null,{prevPage:n||e("")}),e.mobile.hidePageLoadingMsg();var s=e.mobile.transitionHandlers[r||"default"]||e.mobile.defaultTransitionHandler,o=s(r,i,t,n);return o.done(function(){n&&n.data("page")._trigger("hide",null,{nextPage:t}),t.data("page")._trigger("show",null,{prevPage:n||e("")})}),o}function N(){var n=e.event.special.orientationchange.orientation(),r=n==="portrait",i=r?480:320,s=r?screen.availHeight:screen.availWidth,o=Math.max(i,e(t).height()),u=Math.min(s,o);return u}function C(){e("."+e.mobile.activePageClass).css("min-height",N())}function k(t,n){n&&t.attr("data-"+e.mobile.ns+"role",n),t.page()}function L(e){while(e){if(typeof e.nodeName=="string"&&e.nodeName.toLowerCase()=="a")break;e=e.parentNode}return e}function A(t){var n=e(t).closest(".ui-page").jqmData("url"),r=m.hrefNoHash;if(!n||!u.isPath(n))n=r;return u.makeUrlAbsolute(n,r)}var i=e(t),s=e("html"),o=e("head"),u={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(t){if(e.type(t)==="object")return t;var n=u.urlParseRE.exec(t||"")||[];return{href:n[0]||"",hrefNoHash:n[1]||"",hrefNoSearch:n[2]||"",domain:n[3]||"",protocol:n[4]||"",doubleSlash:n[5]||"",authority:n[6]||"",username:n[8]||"",password:n[9]||"",host:n[10]||"",hostname:n[11]||"",port:n[12]||"",pathname:n[13]||"",directory:n[14]||"",filename:n[15]||"",search:n[16]||"",hash:n[17]||""}},makePathAbsolute:function(e,t){if(e&&e.charAt(0)==="/")return e;e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";var n=t?t.split("/"):[],r=e.split("/");for(var i=0;i<r.length;i++){var s=r[i];switch(s){case".":break;case"..":n.length&&n.pop();break;default:n.push(s)}}return"/"+n.join("/")},isSameDomain:function(e,t){return u.parseUrl(e).domain===u.parseUrl(t).domain},isRelativeUrl:function(e){return u.parseUrl(e).protocol===""},isAbsoluteUrl:function(e){return u.parseUrl(e).protocol!==""},makeUrlAbsolute:function(e,t){if(!u.isRelativeUrl(e))return e;var n=u.parseUrl(e),r=u.parseUrl(t),i=n.protocol||r.protocol,s=n.protocol?n.doubleSlash:n.doubleSlash||r.doubleSlash,o=n.authority||r.authority,a=n.pathname!=="",f=u.makePathAbsolute(n.pathname||r.filename,r.pathname),l=n.search||!a&&r.search||"",c=n.hash;return i+s+o+f+l+c},addSearchParams:function(t,n){var r=u.parseUrl(t),i=typeof n=="object"?e.param(n):n,s=r.search||"?";return r.hrefNoSearch+s+(s.charAt(s.length-1)!=="?"?"&":"")+i+(r.hash||"")},convertUrlToDataUrl:function(e){var t=u.parseUrl(e);return u.isEmbeddedPage(t)?t.hash.split(p)[0].replace(/^#/,""):u.isSameDomain(t,m)?t.hrefNoHash.replace(m.domain,""):e},get:function(e){return e===r&&(e=location.hash),u.stripHash(e).replace(/[^\/]*\.[^\/*]+$/,"")},getFilePath:function(t){var n="&"+e.mobile.subPageUrlKey;return t&&t.split(n)[0].split(p)[0]},set:function(e){location.hash=e},isPath:function(e){return/\//.test(e)},clean:function(e){return e.replace(m.domain,"")},stripHash:function(e){return e.replace(/^#/,"")},cleanHash:function(e){return u.stripHash(e.replace(/\?.*$/,"").replace(p,""))},isExternal:function(e){var t=u.parseUrl(e);return t.protocol&&t.domain!==v.domain?!0:!1},hasProtocol:function(e){return/^(:?\w+:)/.test(e)},isFirstPageUrl:function(t){var n=u.parseUrl(u.makeUrlAbsolute(t,m)),i=n.hrefNoHash===v.hrefNoHash||g&&n.hrefNoHash===m.hrefNoHash,s=e.mobile.firstPage,o=s&&s[0]?s[0].id:r;return i&&(!n.hash||n.hash==="#"||o&&n.hash.replace(/^#/,"")===o)},isEmbeddedPage:function(e){var t=u.parseUrl(e);return t.protocol!==""?t.hash&&(t.hrefNoHash===v.hrefNoHash||g&&t.hrefNoHash===m.hrefNoHash):/^#/.test(t.href)}},a=null,f={stack:[],activeIndex:0,getActive:function(){return f.stack[f.activeIndex]},getPrev:function(){return f.stack[f.activeIndex-1]},getNext:function(){return f.stack[f.activeIndex+1]},addNew:function(e,t,n,r,i){f.getNext()&&f.clearForward(),f.stack.push({url:e,transition:t,title:n,pageUrl:r,role:i}),f.activeIndex=f.stack.length-1},clearForward:function(){f.stack=f.stack.slice(0,f.activeIndex+1)},directHashChange:function(t){var n,i,s,o=this.getActive();e.each(f.stack,function(e,r){t.currentUrl===r.url&&(n=e<f.activeIndex,i=!n,s=e)}),this.activeIndex=s!==r?s:this.activeIndex,n?(t.either||t.isBack)(!0):i&&(t.either||t.isForward)(!1)},ignoreNextHashChange:!1},l="[tabindex],a,button:visible,select:visible,input",c=[],h=!1,p="&ui-state=dialog",d=o.children("base"),v=u.parseUrl(location.href),m=d.length?u.parseUrl(u.makeUrlAbsolute(d.attr("href"),v.href)):v,g=v.hrefNoHash!==m.hrefNoHash,y=e.support.dynamicBaseTag?{element:d.length?d:e("<base>",{href:m.hrefNoHash}).prependTo(o),set:function(e){y.element.attr("href",u.makeUrlAbsolute(e,m))},reset:function(){y.element.attr("href",m.hrefNoHash)}}:r;e.mobile.focusPage=function(e){var t=e.find("[autofocus]"),n=e.find(".ui-title:eq(0)");if(t.length){t.focus();return}n.length?n.focus():e.focus()};var E=!0,S,x;S=function(){if(!E)return;var t=e.mobile.urlHistory.getActive();if(t){var n=i.scrollTop();t.lastScroll=n<e.mobile.minScrollBack?e.mobile.defaultHomeScroll:n}},x=function(){setTimeout(S,100)},i.bind(e.support.pushState?"popstate":"hashchange",function(){E=!1}),i.one(e.support.pushState?"popstate":"hashchange",function(){E=!0}),i.one("pagecontainercreate",function(){e.mobile.pageContainer.bind("pagechange",function(){E=!0,i.unbind("scrollstop",x),i.bind("scrollstop",x)})}),i.bind("scrollstop",x),e.mobile.getScreenHeight=N,e.fn.animationComplete=function(t){return e.support.cssTransitions?e(this).one("webkitAnimationEnd animationend",t):(setTimeout(t,0),e(this))},e.mobile.path=u,e.mobile.base=y,e.mobile.urlHistory=f,e.mobile.dialogHashKey=p,e.mobile.allowCrossDomainPages=!1,e.mobile.getDocumentUrl=function(t){return t?e.extend({},v):v.href},e.mobile.getDocumentBase=function(t){return t?e.extend({},m):m.href},e.mobile._bindPageRemove=function(){var t=e(this);!t.data("page").options.domCache&&t.is(":jqmData(external-page='true')")&&t.bind("pagehide.remove",function(){var t=e(this),n=new e.Event("pageremove");t.trigger(n),n.isDefaultPrevented()||t.removeWithDependents()})},e.mobile.loadPage=function(t,n){var i=e.Deferred(),s=e.extend({},e.mobile.loadPage.defaults,n),o=null,a=null,f=function(){var t=e.mobile.activePage&&A(e.mobile.activePage);return t||m.hrefNoHash},l=u.makeUrlAbsolute(t,f());s.data&&s.type==="get"&&(l=u.addSearchParams(l,s.data),s.data=r),s.data&&s.type==="post"&&(s.reloadPage=!0);var c=u.getFilePath(l),h=u.convertUrlToDataUrl(l);s.pageContainer=s.pageContainer||e.mobile.pageContainer,o=s.pageContainer.children(":jqmData(url='"+h+"')"),o.length===0&&h&&!u.isPath(h)&&(o=s.pageContainer.children("#"+h).attr("data-"+e.mobile.ns+"url",h));if(o.length===0)if(e.mobile.firstPage&&u.isFirstPageUrl(c))e.mobile.firstPage.parent().length&&(o=e(e.mobile.firstPage));else if(u.isEmbeddedPage(c))return i.reject(l,n),i.promise();y&&y.reset();if(o.length){if(!s.reloadPage)return k(o,s.role),i.resolve(l,n,o),i.promise();a=o}var p=s.pageContainer,d=new e.Event("pagebeforeload"),g={url:t,absUrl:l,dataUrl:h,deferred:i,options:s};p.trigger(d,g);if(d.isDefaultPrevented())return i.promise();if(s.showLoadMsg)var b=setTimeout(function(){e.mobile.showPageLoadingMsg()},s.loadMsgDelay),w=function(){clearTimeout(b),e.mobile.hidePageLoadingMsg()};return!e.mobile.allowCrossDomainPages&&!u.isSameDomain(v,l)?i.reject(l,n):e.ajax({url:c,type:s.type,data:s.data,dataType:"html",success:function(r,f,p){var d=e("<div></div>"),v=r.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,m=new RegExp("(<[^>]+\\bdata-"+e.mobile.ns+"role=[\"']?page[\"']?[^>]*>)"),b=new RegExp("\\bdata-"+e.mobile.ns+"url=[\"']?([^\"'>]*)[\"']?");m.test(r)&&RegExp.$1&&b.test(RegExp.$1)&&RegExp.$1&&(t=c=u.getFilePath(RegExp.$1)),y&&y.set(c),d.get(0).innerHTML=r,o=d.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),o.length||(o=e("<div data-"+e.mobile.ns+"role='page'>"+r.split(/<\/?body[^>]*>/gmi)[1]+"</div>")),v&&!o.jqmData("title")&&(~v.indexOf("&")&&(v=e("<div>"+v+"</div>").text()),o.jqmData("title",v));if(!e.support.dynamicBaseTag){var E=u.get(c);o.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var t=e(this).is("[href]")?"href":e(this).is("[src]")?"src":"action",n=e(this).attr(t);n=n.replace(location.protocol+"//"+location.host+location.pathname,""),/^(\w+:|#|\/)/.test(n)||e(this).attr(t,E+n)})}o.attr("data-"+e.mobile.ns+"url",u.convertUrlToDataUrl(c)).attr("data-"+e.mobile.ns+"external-page",!0).appendTo(s.pageContainer),o.one("pagecreate",e.mobile._bindPageRemove),k(o,s.role),l.indexOf("&"+e.mobile.subPageUrlKey)>-1&&(o=s.pageContainer.children(":jqmData(url='"+h+"')")),s.showLoadMsg&&w(),g.xhr=p,g.textStatus=f,g.page=o,s.pageContainer.trigger("pageload",g),i.resolve(l,n,o,a)},error:function(t,r,o){y&&y.set(u.get()),g.xhr=t,g.textStatus=r,g.errorThrown=o;var a=new e.Event("pageloadfailed");s.pageContainer.trigger(a,g);if(a.isDefaultPrevented())return;s.showLoadMsg&&(w(),e.mobile.showPageLoadingMsg(e.mobile.pageLoadErrorMessageTheme,e.mobile.pageLoadErrorMessage,!0),setTimeout(e.mobile.hidePageLoadingMsg,1500)),i.reject(l,n)}}),i.promise()},e.mobile.loadPage.defaults={type:"get",data:r,reloadPage:!1,role:r,showLoadMsg:!1,pageContainer:r,loadMsgDelay:50},e.mobile.changePage=function(t,i){if(h){c.unshift(arguments);return}var s=e.extend({},e.mobile.changePage.defaults,i);s.pageContainer=s.pageContainer||e.mobile.pageContainer,s.fromPage=s.fromPage||e.mobile.activePage;var o=s.pageContainer,a=new e.Event("pagebeforechange"),l={toPage:t,options:s};o.trigger(a,l);if(a.isDefaultPrevented())return;t=l.toPage,h=!0;if(typeof t=="string"){e.mobile.loadPage(t,s).done(function(t,n,r,i){h=!1,n.duplicateCachedPage=i,e.mobile.changePage(r,n)}).fail(function(e,t){h=!1,b(!0),w(),s.pageContainer.trigger("pagechangefailed",l)});return}t[0]===e.mobile.firstPage[0]&&!s.dataUrl&&(s.dataUrl=v.hrefNoHash);var d=s.fromPage,m=s.dataUrl&&u.convertUrlToDataUrl(s.dataUrl)||t.jqmData("url"),g=m,y=u.getFilePath(m),E=f.getActive(),S=f.activeIndex===0,x=0,N=n.title,C=s.role==="dialog"||t.jqmData("role")==="dialog";if(d&&d[0]===t[0]&&!s.allowSamePageTransition){h=!1,o.trigger("pagechange",l);return}k(t,s.role),s.fromHashChange&&f.directHashChange({currentUrl:m,isBack:function(){x=-1},isForward:function(){x=1}});try{n.activeElement&&n.activeElement.nodeName.toLowerCase()!="body"?e(n.activeElement).blur():e("input:focus, textarea:focus, select:focus").blur()}catch(L){}C&&E&&(m=(E.url||"")+p),s.changeHash!==!1&&m&&(f.ignoreNextHashChange=!0,u.set(m));var A=E?t.jqmData("title")||t.children(":jqmData(role='header')").find(".ui-title").getEncodedText():N;!!A&&N==n.title&&(N=A),t.jqmData("title")||t.jqmData("title",N),s.transition=s.transition||(x&&!S?E.transition:r)||(C?e.mobile.defaultDialogTransition:e.mobile.defaultPageTransition),x||f.addNew(m,s.transition,N,g,s.role),n.title=f.getActive().title,e.mobile.activePage=t,s.reverse=s.reverse||x<0,T(t,d,s.transition,s.reverse).done(function(n,r,i,u,a){b(),s.duplicateCachedPage&&s.duplicateCachedPage.remove(),a||e.mobile.focusPage(t),w(),o.trigger("pagechange",l)})},e.mobile.changePage.defaults={transition:r,reverse:!1,changeHash:!0,fromHashChange:!1,role:r,duplicateCachedPage:r,pageContainer:r,showLoadMsg:!0,dataUrl:r,fromPage:r,allowSamePageTransition:!1},e.mobile._registerInternalEvents=function(){e(n).delegate("form","submit",function(t){var n=e(this);if(!e.mobile.ajaxEnabled||n.is(":jqmData(ajax='false')")||!n.jqmHijackable().length)return;var r=n.attr("method"),i=n.attr("target"),s=n.attr("action");s||(s=A(n),s===m.hrefNoHash&&(s=v.hrefNoSearch)),s=u.makeUrlAbsolute(s,A(n));if(u.isExternal(s)||i)return;e.mobile.changePage(s,{type:r&&r.length&&r.toLowerCase()||"get",data:n.serialize(),transition:n.jqmData("transition"),direction:n.jqmData("direction"),reloadPage:!0}),t.preventDefault()}),e(n).bind("vclick",function(t){if(t.which>1||!e.mobile.linkBindingEnabled)return;var n=L(t.target);if(!e(n).jqmHijackable().length)return;n&&u.parseUrl(n.getAttribute("href")||"#").hash!=="#"&&(b(!0),a=e(n).closest(".ui-btn").not(".ui-disabled"),a.addClass(e.mobile.activeBtnClass),e("."+e.mobile.activePageClass+" .ui-btn").not(n).blur(),e(n).jqmData("href",e(n).attr("href")).attr("href","#"))}),e(n).bind("click",function(n){if(!e.mobile.linkBindingEnabled)return;var i=L(n.target),s=e(i),o;if(!i||n.which>1||!s.jqmHijackable().length)return;o=function(){t.setTimeout(function(){b(!0)},200)},s.jqmData("href")&&s.attr("href",s.jqmData("href"));if(s.is(":jqmData(rel='back')"))return t.history.back(),!1;var a=A(s),f=u.makeUrlAbsolute(s.attr("href")||"#",a);if(!e.mobile.ajaxEnabled&&!u.isEmbeddedPage(f)){o();return}if(f.search("#")!=-1){f=f.replace(/[^#]*#/,"");if(!f){n.preventDefault();return}u.isPath(f)?f=u.makeUrlAbsolute(f,a):f=u.makeUrlAbsolute("#"+f,v.hrefNoHash)}var l=s.is("[rel='external']")||s.is(":jqmData(ajax='false')")||s.is("[target]"),c=e.mobile.allowCrossDomainPages&&v.protocol==="file:"&&f.search(/^https?:/)!=-1,h=l||u.isExternal(f)&&!c;if(h){o();return}var p=s.jqmData("transition"),d=s.jqmData("direction"),m=d&&d==="reverse"||s.jqmData("back"),g=s.attr("data-"+e.mobile.ns+"rel")||r;e.mobile.changePage(f,{transition:p,reverse:m,role:g}),n.preventDefault()}),e(n).delegate(".ui-page","pageshow.prefetch",function(){var t=[];e(this).find("a:jqmData(prefetch)").each(function(){var n=e(this),r=n.attr("href");r&&e.inArray(r,t)===-1&&(t.push(r),e.mobile.loadPage(r,{role:n.attr("data-"+e.mobile.ns+"rel")}))})}),e.mobile._handleHashChange=function(n){var i=u.stripHash(n),s=e.mobile.urlHistory.stack.length===0?"none":r,o={transition:s,changeHash:!1,fromHashChange:!0};if(!e.mobile.hashListeningEnabled||f.ignoreNextHashChange){f.ignoreNextHashChange=!1;return}if(f.stack.length>1&&i.indexOf(p)>-1){if(!e.mobile.activePage.is(".ui-dialog")){f.directHashChange({currentUrl:i,isBack:function(){t.history.back()},isForward:function(){t.history.forward()}});return}f.directHashChange({currentUrl:i,either:function(t){var n=e.mobile.urlHistory.getActive();i=n.pageUrl,e.extend(o,{role:n.role,transition:n.transition,reverse:t})}})}i?(i=typeof i=="string"&&!u.isPath(i)?u.makeUrlAbsolute("#"+i,m):i,e.mobile.changePage(i,o)):e.mobile.changePage(e.mobile.firstPage,o)},i.bind("hashchange",function(t,n){e.mobile._handleHashChange(location.hash)}),e(n).bind("pageshow",C),e(t).bind("throttledresize",C)}}(jQuery),function(e,t){var r={},i=r,s=e(t),o=e.mobile.path.parseUrl(location.href);e.extend(r,{initialFilePath:function(){return o.pathname+o.search}(),initialHref:o.hrefNoHash,state:function(){return{hash:location.hash||"#"+i.initialFilePath,title:n.title,initialHref:i.initialHref}},resetUIKeys:function(t){var n=e.mobile.dialogHashKey,r="&"+e.mobile.subPageUrlKey,i=t.indexOf(n);return i>-1?t=t.slice(0,i)+"#"+t.slice(i):t.indexOf(r)>-1&&(t=t.split(r).join("#"+r)),t},hashValueAfterReset:function(t){var n=i.resetUIKeys(t);return e.mobile.path.parseUrl(n).hash},nextHashChangePrevented:function(t){e.mobile.urlHistory.ignoreNextHashChange=t,i.onHashChangeDisabled=t},onHashChange:function(t){if(i.onHashChangeDisabled)return;var r,s,o=location.hash,u=e.mobile.path.isPath(o),a=u?location.href:e.mobile.getDocumentUrl();o=u?o.replace("#",""):o,s=i.state(),r=e.mobile.path.makeUrlAbsolute(o,a),u&&(r=i.resetUIKeys(r)),history.replaceState(s,n.title,r)},onPopState:function(t){var n=t.originalEvent.state,r,o,u,a;n&&(o=i.hashValueAfterReset(e.mobile.urlHistory.getActive().url),u=i.hashValueAfterReset(n.hash.replace("#","")),a=o!==u,a&&s.one("hashchange.pushstate",function(){i.nextHashChangePrevented(!1)}),i.nextHashChangePrevented(!1),e.mobile._handleHashChange(n.hash),a&&i.nextHashChangePrevented(!0))},init:function(){s.bind("hashchange",i.onHashChange),s.bind("popstate",i.onPopState),location.hash===""&&history.replaceState(i.state(),n.title,location.href)}}),e(function(){e.mobile.pushStateEnabled&&e.support.pushState&&r.init()})}(jQuery,this),function(e,t,n){e.mobile.transitionFallbacks.pop="fade"}(jQuery,this),function(e,t,n){e.mobile.transitionFallbacks.slide="fade"}(jQuery,this),function(e,t,n){e.mobile.transitionFallbacks.slidedown="fade"}(jQuery,this),function(e,t,n){e.mobile.transitionFallbacks.slideup="fade"}(jQuery,this),function(e,t,n){e.mobile.transitionFallbacks.flip="fade"}(jQuery,this),function(e,t,n){e.mobile.transitionFallbacks.flow="fade"}(jQuery,this),function(e,t,n){e.mobile.transitionFallbacks.turn="fade"}(jQuery,this),function(e,t){e.mobile.page.prototype.options.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},e(n).bind("pagecreate create",function(t){var n=e.mobile.closestPageData(e(t.target)),r;if(!n)return;r=n.options,e(t.target).find("input").not(n.keepNativeSelector()).each(function(){var t=e(this),n=this.getAttribute("type"),i=r.degradeInputs[n]||"text";if(r.degradeInputs[n]){var s=e("<div>").html(t.clone()).html(),o=s.indexOf(" type=")>-1,u=o?/\s+type=["']?\w+['"]?/:/\/?>/,a=' type="'+i+'" data-'+e.mobile.ns+'type="'+n+'"'+(o?"":">");t.replaceWith(s.replace(u,a))}})})}(jQuery),function(e,t,r){e.widget("mobile.dialog",e.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var t=this,n=this.element,r=e("<a href='#' data-"+e.mobile.ns+"icon='delete' data-"+e.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),i=e("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});n.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme),n.wrapInner(i).find(":jqmData(role='header')").prepend(r).end().find(":first-child").addClass("ui-corner-top").end().find(":last-child").addClass("ui-corner-bottom"),r.bind("click",function(){t.close()}),n.bind("vclick submit",function(t){var n=e(t.target).closest(t.type==="vclick"?"a":"form"),r;n.length&&!n.jqmData("transition")&&(r=e.mobile.urlHistory.getActive()||{},n.attr("data-"+e.mobile.ns+"transition",r.transition||e.mobile.defaultDialogTransition).attr("data-"+e.mobile.ns+"direction","reverse"))}).bind("pagehide",function(n,r){e(this).find("."+e.mobile.activeBtnClass).removeClass(e.mobile.activeBtnClass),t.options.overlayTheme&&(!r.nextPage||!r.nextPage.is(".ui-dialog.ui-overlay-"+t.options.overlayTheme))&&e.mobile.pageContainer.removeClass("ui-overlay-"+t.options.overlayTheme)}).bind("pagebeforeshow",function(){t.options.overlayTheme&&e.mobile.pageContainer.addClass("ui-overlay-"+t.options.overlayTheme)})},close:function(){t.history.back()}}),e(n).delegate(e.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){e.mobile.dialog.prototype.enhance(this)})}(jQuery,this),function(e,t){e.fn.fieldcontain=function(e){return this.addClass("ui-field-contain ui-body ui-br")},e(n).bind("pagecreate create",function(t){e(":jqmData(role='fieldcontain')",t.target).jqmEnhanceable().fieldcontain()})}(jQuery),function(e,t){e.fn.grid=function(t){return this.each(function(){var n=e(this),r=e.extend({grid:null},t),i=n.children(),s={solo:1,a:2,b:3,c:4,d:5},o=r.grid,u;if(!o)if(i.length<=5)for(var a in s)s[a]===i.length&&(o=a);else o="a";u=s[o],n.addClass("ui-grid-"+o),i.filter(":nth-child("+u+"n+1)").addClass("ui-block-a"),u>1&&i.filter(":nth-child("+u+"n+2)").addClass("ui-block-b"),u>2&&i.filter(":nth-child(3n+3)").addClass("ui-block-c"),u>3&&i.filter(":nth-child(4n+4)").addClass("ui-block-d"),u>4&&i.filter(":nth-child(5n+5)").addClass("ui-block-e")})}}(jQuery),function(e,t){e(n).bind("pagecreate create",function(t){e(":jqmData(role='nojs')",t.target).addClass("ui-nojs")})}(jQuery),function(e,t){function r(e){var t;while(e){t=typeof e.className=="string"&&e.className+" ";if(t&&t.indexOf("ui-btn ")>-1&&t.indexOf("ui-disabled ")<0)break;e=e.parentNode}return e}e.fn.buttonMarkup=function(r){var s=this;r=r&&e.type(r)=="object"?r:{};for(var o=0;o<s.length;o++){var u=s.eq(o),a=u[0],f=e.extend({},e.fn.buttonMarkup.defaults,{icon:r.icon!==t?r.icon:u.jqmData("icon"),iconpos:r.iconpos!==t?r.iconpos:u.jqmData("iconpos"),theme:r.theme!==t?r.theme:u.jqmData("theme"),inline:r.inline!==t?r.inline:u.jqmData("inline"),shadow:r.shadow!==t?r.shadow:u.jqmData("shadow"),corners:r.corners!==t?r.corners:u.jqmData("corners"),iconshadow:r.iconshadow!==t?r.iconshadow:u.jqmData("iconshadow"),mini:r.mini!==t?r.mini:u.jqmData("mini")},r),l="ui-btn-inner",c="ui-btn-text",h,p,d,v,m,g;e.each(f,function(t,n){a.setAttribute("data-"+e.mobile.ns+t,n),u.jqmData(t,n)}),g=e.data(a.tagName==="INPUT"||a.tagName==="BUTTON"?a.parentNode:a,"buttonElements"),g?(a=g.outer,u=e(a),d=g.inner,v=g.text,e(g.icon).remove(),g.icon=null):(d=n.createElement(f.wrapperEls),v=n.createElement(f.wrapperEls)),m=f.icon?n.createElement("span"):null,i&&!g&&i(),f.theme||(f.theme=e.mobile.getInheritedTheme(u,"c")),h="ui-btn ui-btn-up-"+f.theme,f.inline&&(h+=" ui-btn-inline"),f.mini?h+=" ui-mini":f.mini&&f.mini===!1&&(h+=" ui-fullsize"),f.icon&&(f.icon="ui-icon-"+f.icon,f.iconpos=f.iconpos||"left",p="ui-icon "+f.icon,f.iconshadow&&(p+=" ui-icon-shadow")),f.iconpos&&(h+=" ui-btn-icon-"+f.iconpos,f.iconpos=="notext"&&!u.attr("title")&&u.attr("title",u.getEncodedText())),f.corners&&(h+=" ui-btn-corner-all",l+=" ui-btn-corner-all"),f.shadow&&(h+=" ui-shadow"),g&&u.removeClass(g.bcls||""),u.removeClass("ui-link").addClass(h),d.className=l,v.className=c,g||d.appendChild(v),m&&(m.className=p,(!g||!g.icon)&&d.appendChild(m));while(a.firstChild&&!g)v.appendChild(a.firstChild);g||a.appendChild(d),g={bcls:h,outer:a,inner:d,text:v,icon:m},e.data(a,"buttonElements",g),e.data(d,"buttonElements",g),e.data(v,"buttonElements",g),m&&e.data(m,"buttonElements",g)}return this},e.fn.buttonMarkup.defaults={corners:!0,shadow:!0,iconshadow:!0,inline:!1,wrapperEls:"span"};var i=function(){var t=200,s,o;e(n).bind({vmousedown:function(n){var i=r(n.target),o,u;i&&(o=e(i),u=o.attr("data-"+e.mobile.ns+"theme"),e.support.touch?s=setTimeout(function(){o.removeClass("ui-btn-up-"+u).addClass("ui-btn-down-"+u)},t):o.removeClass("ui-btn-up-"+u).addClass("ui-btn-down-"+u))},"vmousecancel vmouseup":function(t){var n=r(t.target),i,s;n&&(i=e(n),s=i.attr("data-"+e.mobile.ns+"theme"),i.removeClass("ui-btn-down-"+s).addClass("ui-btn-up-"+s))},"vmouseover focus":function(n){var i=r(n.target),s,u;i&&(s=e(i),u=s.attr("data-"+e.mobile.ns+"theme"),e.support.touch?o=setTimeout(function(){s.removeClass("ui-btn-up-"+u).addClass("ui-btn-hover-"+u)},t):s.removeClass("ui-btn-up-"+u).addClass("ui-btn-hover-"+u))},"vmouseout blur scrollstart":function(t){var n=r(t.target),i,u;n&&(i=e(n),u=i.attr("data-"+e.mobile.ns+"theme"),i.removeClass("ui-btn-hover-"+u+" ui-btn-down-"+u).addClass("ui-btn-up-"+u),s&&clearTimeout(s),o&&clearTimeout(o))}}),i=null};e(n).bind("pagecreate create",function(t){e(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",t.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})}(jQuery),function(e,t){e.mobile.page.prototype.options.backBtnText="Back",e.mobile.page.prototype.options.addBackBtn=!1,e.mobile.page.prototype.options.backBtnTheme=null,e.mobile.page.prototype.options.headerTheme="a",e.mobile.page.prototype.options.footerTheme="a",e.mobile.page.prototype.options.contentTheme=null,e(n).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(t){var n=e(this),r=n.data("page").options,i=n.jqmData("role"),s=r.theme;e(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",this).jqmEnhanceable().each(function(){var t=e(this),n=t.jqmData("role"),u=t.jqmData("theme"),a=u||r.contentTheme||i==="dialog"&&s,f,l,c,h;t.addClass("ui-"+n);if(n==="header"||n==="footer"){var p=u||(n==="header"?r.headerTheme:r.footerTheme)||s;t.addClass("ui-bar-"+p).attr("role",n==="header"?"banner":"contentinfo"),f=t.children("a"),l=f.hasClass("ui-btn-left"),c=f.hasClass("ui-btn-right"),l=l||f.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,c=c||f.eq(1).addClass("ui-btn-right").length,r.addBackBtn&&n==="header"&&e(".ui-page").length>1&&t.jqmData("url")!==e.mobile.path.stripHash(location.hash)&&!l&&(h=e("<a href='#' class='ui-btn-left' data-"+e.mobile.ns+"rel='back' data-"+e.mobile.ns+"icon='arrow-l'>"+r.backBtnText+"</a>").attr("data-"+e.mobile.ns+"theme",r.backBtnTheme||p).prependTo(t)),t.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({tabindex:"0",role:"heading","aria-level":"1"})}else n==="content"&&(a&&t.addClass("ui-body-"+a),t.attr("role","main"))})})}(jQuery),function(e,t){e.widget("mobile.collapsible",e.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",mini:!1,initSelector:":jqmData(role='collapsible')"},_create:function(){var t=this.element,n=this.options,r=t.addClass("ui-collapsible"),i=t.children(n.heading).first(),s=r.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),o=t.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");i.is("legend")&&(i=e("<div role='heading'>"+i.html()+"</div>").insertBefore(i),i.next().remove()),o.length&&(n.theme||(n.theme=o.jqmData("theme")),n.contentTheme||(n.contentTheme=o.jqmData("content-theme")),n.iconPos||(n.iconPos=o.jqmData("iconpos")),n.mini||(n.mini=o.jqmData("mini"))),s.addClass(n.contentTheme?"ui-body-"+n.contentTheme:""),i.insertBefore(s).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:!1,corners:!1,iconpos:t.jqmData("iconpos")||n.iconPos||"left",icon:"plus",mini:n.mini,theme:n.theme}).add(".ui-btn-inner").addClass("ui-corner-top ui-corner-bottom"),r.bind("expand collapse",function(t){if(!t.isDefaultPrevented()){t.preventDefault();var u=e(this),a=t.type==="collapse",f=n.contentTheme;i.toggleClass("ui-collapsible-heading-collapsed",a).find(".ui-collapsible-heading-status").text(a?n.expandCueText:n.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!a).toggleClass("ui-icon-plus",a),u.toggleClass("ui-collapsible-collapsed",a),s.toggleClass("ui-collapsible-content-collapsed",a).attr("aria-hidden",a),f&&(!o.length||r.jqmData("collapsible-last"))&&(i.find("a").first().add(i.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",a),s.toggleClass("ui-corner-bottom",!a)),s.trigger("updatelayout")}}).trigger(n.collapsed?"collapse":"expand"),i.bind("click",function(e){var t=i.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";r.trigger(t),e.preventDefault()})}}),e(n).bind("pagecreate create",function(t){e.mobile.collapsible.prototype.enhanceWithin(t.target)})}(jQuery),function(e,t){e.widget("mobile.collapsibleset",e.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var t=this.element.addClass("ui-collapsible-set"),n=this.options;n.theme||(n.theme=t.jqmData("theme")),n.contentTheme||(n.contentTheme=t.jqmData("content-theme")),t.jqmData("collapsiblebound")||t.jqmData("collapsiblebound",!0).bind("expand collapse",function(t){var n=t.type==="collapse",r=e(t.target).closest(".ui-collapsible"),i=r.data("collapsible"),s=i.options.contentTheme;s&&r.jqmData("collapsible-last")&&(r.find(i.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",n),r.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!n))}).bind("expand",function(t){e(t.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")})},_init:function(){this.refresh()},refresh:function(){var t=this.element,n=t.children(":jqmData(role='collapsible')");e.mobile.collapsible.prototype.enhance(n.not(".ui-collapsible")),n.each(function(){e(this).find(e.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")}),n.first().find("a").first().addClass("ui-corner-top").find(".ui-btn-inner").addClass("ui-corner-top"),n.last().jqmData("collapsible-last",!0).find("a").first().addClass("ui-corner-bottom").find(".ui-btn-inner").addClass("ui-corner-bottom")}}),e(n).bind("pagecreate create",function(t){e.mobile.collapsibleset.prototype.enhanceWithin(t.target)})}(jQuery),function(e,t){e.widget("mobile.navbar",e.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},_create:function(){var n=this.element,r=n.find("a"),i=r.filter(":jqmData(icon)").length?this.options.iconpos:t;n.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),i||n.addClass("ui-navbar-noicons"),r.buttonMarkup({corners:!1,shadow:!1,iconpos:i}),n.delegate("a","vclick",function(t){e(t.target).hasClass("ui-disabled")||(r.removeClass(e.mobile.activeBtnClass),e(this).addClass(e.mobile.activeBtnClass))}),n.closest(".ui-page").bind("pagebeforeshow",function(){r.filter(".ui-state-persist").addClass(e.mobile.activeBtnClass)})}}),e(n).bind("pagecreate create",function(t){e.mobile.navbar.prototype.enhanceWithin(t.target)})}(jQuery),function(e,t){var r={};e.widget("mobile.listview",e.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",inset:!1,initSelector:":jqmData(role='listview')"},_create:function(){var e=this;e.element.addClass(function(t,n){return n+" ui-listview "+(e.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":"")}),e.refresh(!0)},_removeCorners:function(e,t){var n="ui-corner-top ui-corner-tr ui-corner-tl",r="ui-corner-bottom ui-corner-br ui-corner-bl";e=e.add(e.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb")),t==="top"?e.removeClass(n):t==="bottom"?e.removeClass(r):e.removeClass(n+" "+r)},_refreshCorners:function(e){var t,n,r,i;this.options.inset&&(t=this.element.children("li"),n=e?t.not(".ui-screen-hidden"):t.filter(":visible"),this._removeCorners(t),r=n.first().addClass("ui-corner-top"),r.add(r.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),i=n.last().addClass("ui-corner-bottom"),i.add(i.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl")),e||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(e,t,n,r){var i={};i[n]=i[r]=!0;while(e){if(i[e.nodeName])return e;e=e[t]}return null},_getChildrenByTagName:function(t,n,r){var i=[],s={};s[n]=s[r]=!0,t=t.firstChild;while(t)s[t.nodeName]&&i.push(t),t=t.nextSibling;return e(i)},_addThumbClasses:function(t){var n,r,i=t.length;for(n=0;n<i;n++)r=e(this._findFirstElementByTagName(t[n].firstChild,"nextSibling","img","IMG")),r.length&&(r.addClass("ui-li-thumb"),e(this._findFirstElementByTagName(r[0].parentNode,"parentNode","li","LI")).addClass(r.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(t){this.parentPage=this.element.closest(".ui-page"),this._createSubPages();var r=this.options,i=this.element,s=this,o=i.jqmData("dividertheme")||r.dividerTheme,u=i.jqmData("splittheme"),a=i.jqmData("spliticon"),f=this._getChildrenByTagName(i[0],"li","LI"),l=e.support.cssPseudoElement||!e.nodeName(i[0],"ol")?0:1,c={},h,p,d,v,m,g,y,b,w,E;l&&i.find(".ui-li-dec").remove(),r.theme||(r.theme=e.mobile.getInheritedTheme(this.element,"c"));for(var S=0,x=f.length;S<x;S++){h=f.eq(S),p="ui-li";if(t||!h.hasClass("ui-li"))d=h.jqmData("theme")||r.theme,v=this._getChildrenByTagName(h[0],"a","A"),v.length?(b=h.jqmData("icon"),h.buttonMarkup({wrapperEls:"div",shadow:!1,corners:!1,iconpos:"right",icon:v.length>1||b===!1?!1:b||"arrow-r",theme:d}),b!=0&&v.length==1&&h.addClass("ui-li-has-arrow"),v.first().removeClass("ui-link").addClass("ui-link-inherit"),v.length>1&&(p+=" ui-li-has-alt",m=v.last(),g=u||m.jqmData("theme")||r.splitTheme,m.appendTo(h).attr("title",m.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:!1,corners:!1,theme:d,icon:!1,iconpos:!1}).find(".ui-btn-inner").append(e(n.createElement("span")).buttonMarkup({shadow:!0,corners:!0,theme:g,iconpos:"notext",icon:a||m.jqmData("icon")||r.splitIcon})))):h.jqmData("role")==="list-divider"?(p+=" ui-li-divider ui-btn ui-bar-"+o,h.attr("role","heading"),l&&(l=1)):p+=" ui-li-static ui-body-"+d;l&&p.indexOf("ui-li-divider")<0&&(y=h.is(".ui-li-static:first")?h:h.find(".ui-link-inherit"),y.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+l++ +". </span>")),c[p]||(c[p]=[]),c[p].push(h[0])}for(p in c)e(c[p]).addClass(p).children(".ui-btn-inner").addClass(p);i.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var t=e(this);t.prependTo(t.parent())}).end().find(".ui-li-count").each(function(){e(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+(i.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all"),this._addThumbClasses(f),this._addThumbClasses(i.find(".ui-link-inherit")),this._refreshCorners(t)},_idStringEscape:function(e){return e.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var t=this.element,n=t.closest(".ui-page"),i=n.jqmData("url"),s=i||n[0][e.expando],o=t.attr("id"),u=this.options,a="data-"+e.mobile.ns,f=this,l=n.find(":jqmData(role='footer')").jqmData("id"),c;typeof r[s]=="undefined"&&(r[s]=-1),o=o||++r[s],e(t.find("li>ul, li>ol").toArray().reverse()).each(function(n){var r=this,s=e(this),f=s.attr("id")||o+"-"+n,h=s.parent(),p=e(s.prevAll().toArray().reverse()),p=p.length?p:e("<span>"+e.trim(h.contents()[0].nodeValue)+"</span>"),d=p.first().getEncodedText(),v=(i||"")+"&"+e.mobile.subPageUrlKey+"="+f,m=s.jqmData("theme")||u.theme,g=s.jqmData("counttheme")||t.jqmData("counttheme")||u.countTheme,y,b;c=!0,y=s.detach().wrap("<div "+a+"role='page' "+a+"url='"+v+"' "+a+"theme='"+m+"' "+a+"count-theme='"+g+"'><div "+a+"role='content'></div></div>").parent().before("<div "+a+"role='header' "+a+"theme='"+u.headerTheme+"'><div class='ui-title'>"+d+"</div></div>").after(l?e("<div "+a+"role='footer' "+a+"id='"+l+"'>"):"").parent().appendTo(e.mobile.pageContainer),y.page(),b=h.find("a:first"),b.length||(b=e("<a/>").html(p||d).prependTo(h.empty())),b.attr("href","#"+v)}).listview();if(c&&n.is(":jqmData(external-page='true')")&&n.data("page").options.domCache===!1){var h=function(t,r){var s=r.nextPage,o;r.nextPage&&(o=s.jqmData("url"),o.indexOf(i+"&"+e.mobile.subPageUrlKey)!==0&&(f.childPages().remove(),n.remove()))};n.unbind("pagehide.remove").bind("pagehide.remove",h)}},childPages:function(){var t=this.parentPage.jqmData("url");return e(":jqmData(url^='"+t+"&"+e.mobile.subPageUrlKey+"')")}}),e(n).bind("pagecreate create",function(t){e.mobile.listview.prototype.enhanceWithin(t.target)})}(jQuery),function(e,t){e.widget("mobile.checkboxradio",e.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},_create:function(){var r=this,i=this.element,s=e(i).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')").find("label").filter("[for='"+i[0].id+"']"),o=i.attr("type"),u=i.closest("form,fieldset").jqmData("mini"),a=o+"-on",f=o+"-off",l=i.parents(":jqmData(type='horizontal')").length?t:f,c=l?"":" "+e.mobile.activeBtnClass,h="ui-"+a+c,p="ui-"+f,d="ui-icon-"+a,v="ui-icon-"+f;if(o!=="checkbox"&&o!=="radio")return;e.extend(this,{label:s,inputtype:o,checkedClass:h,uncheckedClass:p,checkedicon:d,uncheckedicon:v}),this.options.theme||(this.options.theme=this.element.jqmData("theme")),s.buttonMarkup({theme:this.options.theme,icon:l,shadow:!1,mini:u});var m=n.createElement("div");m.className="ui-"+o,i[0].parentNode.insertBefore(m,i[0]),m.appendChild(i[0]),m.appendChild(s[0]),s.bind({vmouseover:function(t){e(this).parent().is(".ui-disabled")&&t.stopPropagation()},vclick:function(e){if(i.is(":disabled")){e.preventDefault();return}return r._cacheVals(),i.attr("checked",o==="radio"&&!0||!i.attr("checked")),i.triggerHandler("click"),r._getInputSet().not(i).removeAttr("checked"),r._updateAll(),!1}}),i.bind({vmousedown:function(){r._cacheVals()},vclick:function(){var t=e(this);t.is(":checked")?(t.attr("checked","checked"),r._getInputSet().not(t).removeAttr("checked")):t.removeAttr("checked"),r._updateAll()},focus:function(){s.addClass(e.mobile.focusClass)},blur:function(){s.removeClass(e.mobile.focusClass)}}),this.refresh()},_cacheVals:function(){this._getInputSet().each(function(){var t=e(this);t.jqmData("cacheVal",t.is(":checked"))})},_getInputSet:function(){return this.inputtype=="checkbox"?this.element:this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element.attr("name")+"'][type='"+this.inputtype+"']")},_updateAll:function(){var t=this;this._getInputSet().each(function(){var n=e(this);(this.getAttribute("checked")||t.inputtype==="checkbox")&&n.trigger("change")}).checkboxradio("refresh")},refresh:function(){var e=this.element,t=this.label,n=t.find(".ui-icon");e[0].getAttribute("checked")?(t.addClass(this.checkedClass).removeClass(this.uncheckedClass),n.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(t.removeClass(this.checkedClass).addClass(this.uncheckedClass),n.removeClass(this.checkedicon).addClass(this.uncheckedicon)),e.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.attr("disabled",!0).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",!1).parent().removeClass("ui-disabled")}}),e(n).bind("pagecreate create",function(t){e.mobile.checkboxradio.prototype.enhanceWithin(t.target,!0)})}(jQuery),function(e,t){e.widget("mobile.button",e.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:null,corners:!0,shadow:!0,iconshadow:!0,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']",mini:!1},_create:function(){var r=this.element,i,s=this.options,o,u,a="",f;if(r[0].tagName==="A"){!r.hasClass("ui-btn")&&r.buttonMarkup();return}!~r[0].className.indexOf("ui-btn-left")||(a="ui-btn-left"),!~r[0].className.indexOf("ui-btn-right")||(a="ui-btn-right"),this.button=e("<div></div>").text(r.text()||r.val()).insertBefore(r).buttonMarkup({theme:s.theme,icon:s.icon,iconpos:s.iconpos,inline:s.inline,corners:s.corners,shadow:s.shadow,iconshadow:s.iconshadow,mini:s.mini}).addClass(a).append(r.addClass("ui-btn-hidden")),i=this.button,o=r.attr("type"),u=r.attr("name"),o!=="button"&&o!=="reset"&&u&&r.bind("vclick",function(){f===t&&(f=e("<input>",{type:"hidden",name:r.attr("name"),value:r.attr("value")}).insertBefore(r),e(n).one("submit",function(){f.remove(),f=t}))}),r.bind({focus:function(){i.addClass(e.mobile.focusClass)},blur:function(){i.removeClass(e.mobile.focusClass)}}),this.refresh()},enable:function(){return this.element.attr("disabled",!1),this.button.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.button.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)},refresh:function(){var t=this.element;t.prop("disabled")?this.disable():this.enable(),e(this.button.data("buttonElements").text).text(t.text()||t.val())}}),e(n).bind("pagecreate create",function(t){e.mobile.button.prototype.enhanceWithin(t.target,!0)})}(jQuery),function(e,t){e.fn.controlgroup=function(t){function n(e,t){e.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(t[0]).end().last().addClass(t[1]).addClass("ui-controlgroup-last")}return this.each(function(){var r=e(this),i=e.extend({direction:r.jqmData("type")||"vertical",shadow:!1,excludeInvisible:!0,mini:r.jqmData("mini")},t),s=r.children("legend"),o=i.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"],u=r.find("input").first().attr("type");s.length&&(r.wrapInner("<div class='ui-controlgroup-controls'></div>"),e("<div role='heading' class='ui-controlgroup-label'>"+s.html()+"</div>").insertBefore(r.children(0)),s.remove()),r.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+i.direction),n(r.find(".ui-btn"+(i.excludeInvisible?":visible":"")).not(".ui-slider-handle"),o),n(r.find(".ui-btn-inner"),o),i.shadow&&r.addClass("ui-shadow"),i.mini&&r.addClass("ui-mini")})}}(jQuery),function(e,t){e(n).bind("pagecreate create",function(t){e(t.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})}(jQuery),function(e){var t=e("meta[name=viewport]"),n=t.attr("content"),r=n+",maximum-scale=1, user-scalable=no",i=n+",maximum-scale=10, user-scalable=yes";e.mobile.zoom=e.extend({},{enabled:!0,locked:!1,disable:function(n){e.mobile.zoom.locked||(t.attr("content",r),e.mobile.zoom.enabled=!1,e.mobile.zoom.locked=n||!1)},enable:function(n){if(!e.mobile.zoom.locked||n)t.attr("content",i),e.mobile.zoom.enabled=!0,e.mobile.zoom.locked=!1},restore:function(){t.attr("content",n),e.mobile.zoom.enabled=!0}})}(jQuery),function(e,r){e.widget("mobile.textinput",e.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])"},_create:function(){var r=this.element,i=this.options,s=i.theme||e.mobile.getInheritedTheme(this.element,"c"),o=" ui-body-"+s,u=r.jqmData("mini")==1,a=u?" ui-mini":"",f,l;e("label[for='"+r.attr("id")+"']").addClass("ui-input-text"),f=r.addClass("ui-input-text ui-body-"+s),typeof r[0].autocorrect!="undefined"&&!e.support.touchOverflow&&(r[0].setAttribute("autocorrect","off"),r[0].setAttribute("autocomplete","off"));if(r.is("[type='search'],:jqmData(type='search')")){f=r.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+o+a+"'></div>").parent(),l=e("<a href='#' class='ui-input-clear' title='clear text'>clear text</a>").tap(function(e){r.val("").focus(),r.trigger("change"),l.addClass("ui-input-clear-hidden"),e.preventDefault()}).appendTo(f).buttonMarkup({icon:"delete",iconpos:"notext",corners:!0,shadow:!0,mini:u});function c(){setTimeout(function(){l.toggleClass("ui-input-clear-hidden",!r.val())},0)}c(),r.bind("paste cut keyup focus change blur",c)}else r.addClass("ui-corner-all ui-shadow-inset"+o+a);r.focus(function(){f.addClass(e.mobile.focusClass)}).blur(function(){f.removeClass(e.mobile.focusClass)}).bind("focus",function(){i.preventFocusZoom&&e.mobile.zoom.disable(!0)}).bind("blur",function(){i.preventFocusZoom&&e.mobile.zoom.enable(!0)});if(r.is("textarea")){var h=15,p=100,d=function(){var e=r[0].scrollHeight,t=r[0].clientHeight;t<e&&r.height(e+h)},v;r.keyup(function(){clearTimeout(v),v=setTimeout(d,p)}),e(n).one("pagechange",d),e.trim(r.val())&&e(t).load(d)}},disable:function(){(this.element.attr("disabled",!0).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",!1).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled")}}),e(n).bind("pagecreate create",function(t){e.mobile.textinput.prototype.enhanceWithin(t.target,!0)})}(jQuery),function(e,t){e.mobile.listview.prototype.options.filter=!1,e.mobile.listview.prototype.options.filterPlaceholder="Filter items...",e.mobile.listview.prototype.options.filterTheme="c",e.mobile.listview.prototype.options.filterCallback=function(e,t){return e.toLowerCase().indexOf(t)===-1},e(n).delegate(":jqmData(role='listview')","listviewcreate",function(){var t=e(this),n=t.data("listview");if(!n.options.filter)return;var r=e("<form>",{"class":"ui-listview-filter ui-bar-"+n.options.filterTheme,role:"search"}),i=e("<input>",{placeholder:n.options.filterPlaceholder}).attr("data-"+e.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var r=e(this),i=this.value.toLowerCase(),s=null,o=r.jqmData("lastval")+"",u=!1,a="",f;r.jqmData("lastval",i),i.length<o.length||i.indexOf(o)!==0?s=t.children():s=t.children(":not(.ui-screen-hidden)");if(i){for(var l=s.length-1;l>=0;l--)f=e(s[l]),a=f.jqmData("filtertext")||f.text(),f.is("li:jqmData(role=list-divider)")?(f.toggleClass("ui-filter-hidequeue",!u),u=!1):n.options.filterCallback(a,i)?f.toggleClass("ui-filter-hidequeue",!0):u=!0;s.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),s.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else s.toggleClass("ui-screen-hidden",!1);n._refreshCorners()}).appendTo(r).textinput();e(this).jqmData("inset")&&r.addClass("ui-listview-filter-inset"),r.bind("submit",function(){return!1}).insertBefore(t)})}(jQuery),function(e,r){e.widget("mobile.slider",e.mobile.widget,{options:{theme:null,trackTheme:null,disabled:!1,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:!1},_create:function(){var i=this,s=this.element,o=e.mobile.getInheritedTheme(s,"c"),u=this.options.theme||o,a=this.options.trackTheme||o,f=s[0].nodeName.toLowerCase(),l=f=="select"?"ui-slider-switch":"",c=s.attr("id"),h=c+"-label",p=e("[for='"+c+"']").attr("id",h),d=function(){return f=="input"?parseFloat(s.val()):s[0].selectedIndex},v=f=="input"?parseFloat(s.attr("min")):0,m=f=="input"?parseFloat(s.attr("max")):s.find("option").length-1,g=t.parseFloat(s.attr("step")||1),y=this.options.inline||s.jqmData("inline")==1?" ui-slider-inline":"",b=this.options.mini||s.jqmData("mini")?" ui-slider-mini":"",w=n.createElement("a"),E=e(w),S=n.createElement("div"),x=e(S),T=s.jqmData("highlight")&&f!="select"?function(){var t=n.createElement("div");return t.className="ui-slider-bg ui-btn-active ui-btn-corner-all",e(t).prependTo(x)}():!1,N;w.setAttribute("href","#"),S.setAttribute("role","application"),S.className=["ui-slider ",l," ui-btn-down-",a," ui-btn-corner-all",y,b].join(""),w.className="ui-slider-handle",S.appendChild(w),E.buttonMarkup({corners:!0,theme:u,shadow:!0}).attr({role:"slider","aria-valuemin":v,"aria-valuemax":m,"aria-valuenow":d(),"aria-valuetext":d(),title:d(),"aria-labelledby":h}),e.extend(this,{slider:x,handle:E,valuebg:T,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1});if(f=="select"){var C=n.createElement("div");C.className="ui-slider-inneroffset";for(var k=0,L=S.childNodes.length;k<L;k++)C.appendChild(S.childNodes[k]);S.appendChild(C),E.addClass("ui-slider-handle-snapping"),N=s.find("option");for(var A=0,O=N.length;A<O;A++){var M=A?"a":"b",_=A?" "+e.mobile.activeBtnClass:" ui-btn-down-"+a,D=n.createElement("div"),P=n.createElement("span");P.className=["ui-slider-label ui-slider-label-",M,_," ui-btn-corner-all"].join(""),P.setAttribute("role","img"),P.appendChild(n.createTextNode(N[A].innerHTML)),e(P).prependTo(x)}i._labels=e(".ui-slider-label",x)}p.addClass("ui-slider"),s.addClass(f==="input"?"ui-slider-input":"ui-slider-switch").change(function(){i.mouseMoved||i.refresh(d(),!0)}).keyup(function(){i.refresh(d(),!0,!0)}).blur(function(){i.refresh(d(),!0)}),e(n).bind("vmousemove",function(e){if(i.dragging)return i.mouseMoved=!0,f==="select"&&E.removeClass("ui-slider-handle-snapping"),i.refresh(e),i.userModified=i.beforeStart!==s[0].selectedIndex,!1}),x.bind("vmousedown",function(e){return i.dragging=!0,i.userModified=!1,i.mouseMoved=!1,f==="select"&&(i.beforeStart=s[0].selectedIndex),i.refresh(e),!1}).bind("vclick",!1),x.add(n).bind("vmouseup",function(){if(i.dragging)return i.dragging=!1,f==="select"&&(E.addClass("ui-slider-handle-snapping"),i.mouseMoved?i.userModified?i.refresh(i.beforeStart==0?1:0):i.refresh(i.beforeStart):i.refresh(i.beforeStart==0?1:0)),i.mouseMoved=!1,!1}),x.insertAfter(s),f=="select"&&this.handle.bind({focus:function(){x.addClass(e.mobile.focusClass)},blur:function(){x.removeClass(e.mobile.focusClass)}}),this.handle.bind({vmousedown:function(){e(this).focus()},vclick:!1,keydown:function(t){var n=d();if(i.options.disabled)return;switch(t.keyCode){case e.mobile.keyCode.HOME:case e.mobile.keyCode.END:case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:t.preventDefault(),i._keySliding||(i._keySliding=!0,e(this).addClass("ui-state-active"))}switch(t.keyCode){case e.mobile.keyCode.HOME:i.refresh(v);break;case e.mobile.keyCode.END:i.refresh(m);break;case e.mobile.keyCode.PAGE_UP:case e.mobile.keyCode.UP:case e.mobile.keyCode.RIGHT:i.refresh(n+g);break;case e.mobile.keyCode.PAGE_DOWN:case e.mobile.keyCode.DOWN:case e.mobile.keyCode.LEFT:i.refresh(n-g)}},keyup:function(t){i._keySliding&&(i._keySliding=!1,e(this).removeClass("ui-state-active"))}}),this.refresh(r,r,!0)},refresh:function(t,n,r){(this.options.disabled||this.element.attr("disabled"))&&this.disable();var i=this.element,s,o=i[0].nodeName.toLowerCase(),u=o==="input"?parseFloat(i.attr("min")):0,a=o==="input"?parseFloat(i.attr("max")):i.find("option").length-1,f=o==="input"&&parseFloat(i.attr("step"))>0?parseFloat(i.attr("step")):1;if(typeof t=="object"){var l=t,c=8;if(!this.dragging||l.pageX<this.slider.offset().left-c||l.pageX>this.slider.offset().left+this.slider.width()+c)return;s=Math.round((l.pageX-this.slider.offset().left)/this.slider.width()*100)}else t==null&&(t=o==="input"?parseFloat(i.val()||0):i[0].selectedIndex),s=(parseFloat(t)-u)/(a-u)*100;if(isNaN(s))return;s<0&&(s=0),s>100&&(s=100);var h=s/100*(a-u)+u,p=(h-u)%f,d=h-p;Math.abs(p)*2>=f&&(d+=p>0?f:-f),h=parseFloat(d.toFixed(5)),h<u&&(h=u),h>a&&(h=a),this.handle.css("left",s+"%"),this.handle.attr({"aria-valuenow":o==="input"?h:i.find("option").eq(h).attr("value"),"aria-valuetext":o==="input"?h:i.find("option").eq(h).getEncodedText(),title:o==="input"?h:i.find("option").eq(h).getEncodedText()}),this.valuebg&&this.valuebg.css("width",s+"%");if(this._labels){var v=this.handle.width()/this.slider.width()*100,m=s&&v+(100-v)*s/100,g=s===100?0:Math.min(v+100-m,100);this._labels.each(function(){var t=e(this).is(".ui-slider-label-a");e(this).width((t?m:g)+"%")})}if(!r){var y=!1;o==="input"?(y=i.val()!==h,i.val(h)):(y=i[0].selectedIndex!==h,i[0].selectedIndex=h),!n&&y&&i.trigger("change")}},enable:function(){return this.element.attr("disabled",!1),this.slider.removeClass("ui-disabled").attr("aria-disabled",!1),this._setOption("disabled",!1)},disable:function(){return this.element.attr("disabled",!0),this.slider.addClass("ui-disabled").attr("aria-disabled",!0),this._setOption("disabled",!0)}}),e(n).bind("pagecreate create",function(t){e.mobile.slider.prototype.enhanceWithin(t.target,!0)})}(jQuery),function(e,r){e.widget("mobile.selectmenu",e.mobile.widget,{options:{theme:null,disabled:!1,icon:"arrow-d",iconpos:"right",inline:null,corners:!0,shadow:!0,iconshadow:!0,menuPageTheme:"b",overlayTheme:"a",hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"select:not(:jqmData(role='slider'))",mini:!1},_button:function(){return e("<div/>")},_setDisabled:function(e){return this.element.attr("disabled",e),this.button.attr("aria-disabled",e),this._setOption("disabled",e)},_focusButton:function(){var e=this;setTimeout(function(){e.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var t="";!~this.element[0].className.indexOf("ui-btn-left")||(t=" ui-btn-left"),!~this.element[0].className.indexOf("ui-btn-right")||(t=" ui-btn-right"),this.select=this.element.wrap("<div class='ui-select"+t+"'>"),this.selectID=this.select.attr("id"),this.label=e("label[for='"+this.selectID+"']").addClass("ui-select"),this.isMultiple=this.select[0].multiple,this.options.theme||(this.options.theme=e.mobile.getInheritedTheme(this.select,"c"))},_create:function(){this._preExtension(),this._trigger("beforeCreate"),this.button=this._button();var n=this,r=this.options,i=this.select[0].selectedIndex==-1?0:this.select[0].selectedIndex,s=this.button.text(e(this.select[0].options.item(i)).text()).insertBefore(this.select).buttonMarkup({theme:r.theme,icon:r.icon,iconpos:r.iconpos,inline:r.inline,corners:r.corners,shadow:r.shadow,iconshadow:r.iconshadow,mini:r.mini});r.nativeMenu&&t.opera&&t.opera.version&&this.select.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=e("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(s.addClass("ui-li-has-count"))),(r.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){n.refresh()}),this.build()},build:function(){var t=this;this.select.appendTo(t.button).bind("vmousedown",function(){t.button.addClass(e.mobile.activeBtnClass)}).bind("focus",function(){t.button.addClass(e.mobile.focusClass)}).bind("blur",function(){t.button.removeClass(e.mobile.focusClass)}).bind("focus vmouseover",function(){t.button.trigger("vmouseover")}).bind("vmousemove",function(){t.button.removeClass(e.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){t.button.trigger("vmouseout").removeClass(e.mobile.activeBtnClass)}).bind("change blur",function(){t.button.removeClass("ui-btn-down-"+t.options.theme)}),t.button.bind("vmousedown",function(){t.options.preventFocusZoom&&e.mobile.zoom.disable(!0)}).bind("mouseup",function(){t.options.preventFocusZoom&&e.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var e=this;return this.selected().map(function(){return e._selectOptions().index(this)}).get()},setButtonText:function(){var t=this,n=this.selected();this.button.find(".ui-btn-text").text(function(){return t.isMultiple?n.length?n.map(function(){return e(this).text()}).get().join(", "):t.placeholder:n.text()})},setButtonCount:function(){var e=this.selected();this.isMultiple&&this.buttonCount[e.length>1?"show":"hide"]().text(e.length)},refresh:function(){this.setButtonText(),this.setButtonCount()},open:e.noop,close:e.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-disabled")}}),e(n).bind("pagecreate create",function(t){e.mobile.selectmenu.prototype.enhanceWithin(t.target,!0)})}(jQuery),function(e,r){var i=function(r){var i=r.select,s=r.selectID,o=r.label,u=r.select.closest(".ui-page"),a=e("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(u),f=r._selectOptions(),l=r.isMultiple=r.select[0].multiple,c=s+"-button",h=s+"-menu",p=e("<div data-"+e.mobile.ns+"role='dialog' data-"+e.mobile.ns+"theme='"+r.options.theme+"' data-"+e.mobile.ns+"overlay-theme='"+r.options.overlayTheme+"'>"+"<div data-"+e.mobile.ns+"role='header'>"+"<div class='ui-title'>"+o.getEncodedText()+"</div>"+"</div>"+"<div data-"+e.mobile.ns+"role='content'></div>"+"</div>"),d=e("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+r.options.overlayTheme+" "+e.mobile.defaultDialogTransition}).insertAfter(a),v=e("<ul>",{"class":"ui-selectmenu-list",id:h,role:"listbox","aria-labelledby":c}).attr("data-"+e.mobile.ns+"theme",r.options.theme).appendTo(d),m=e("<div>",{"class":"ui-header ui-bar-"+r.options.theme}).prependTo(d),g=e("<h1>",{"class":"ui-title"}).appendTo(m),y=e("<a>",{text:r.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+e.mobile.ns+"iconpos","notext").attr("data-"+e.mobile.ns+"icon","delete").appendTo(m).buttonMarkup(),b,w;e.extend(r,{select:r.select,selectID:s,buttonId:c,menuId:h,thisPage:u,menuPage:p,label:o,screen:a,selectOptions:f,isMultiple:l,theme:r.options.theme,listbox:d,list:v,header:m,headerTitle:g,headerClose:y,menuPageContent:b,menuPageClose:w,placeholder:"",build:function(){var t=this;t.refresh(),t.select.attr("tabindex","-1").focus(function(){e(this).blur(),t.button.focus()}),t.button.bind("vclick keydown",function(n){if(n.type=="vclick"||n.keyCode&&(n.keyCode===e.mobile.keyCode.ENTER||n.keyCode===e.mobile.keyCode.SPACE))t.open(),n.preventDefault()}),t.list.attr("role","listbox").bind("focusin",function(t){e(t.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(t){e(t.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)","click",function(n){var r=t.select[0].selectedIndex,i=t.list.find("li:not(.ui-li-divider)").index(this),s=t._selectOptions().eq(i)[0];s.selected=t.isMultiple?!s.selected:!0,t.isMultiple&&e(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",s.selected).toggleClass("ui-icon-checkbox-off",!s.selected),(t.isMultiple||r!==i)&&t.select.trigger("change"),t.isMultiple||t.close(),n.preventDefault()}).keydown(function(t){var n=e(t.target),r=n.closest("li"),i,s;switch(t.keyCode){case 38:return i=r.prev(),i.length&&(n.blur().attr("tabindex","-1"),i.find("a").first().focus()),!1;case 40:return s=r.next(),s.length&&(n.blur().attr("tabindex","-1"),s.find("a").first().focus()),!1;case 13:case 32:return n.trigger("click"),!1}}),t.menuPage.bind("pagehide",function(){t.list.appendTo(t.listbox),t._focusButton(),e.mobile._bindPageRemove.call(t.thisPage)}),t.screen.bind("vclick",function(e){t.close()}),t.headerClose.click(function(){if(t.menuType=="overlay")return t.close(),!1}),t.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var e=this.list.find("li"),t=this._selectOptions();return t.text()!==e.text()},refresh:function(t,n){var r=this,i=this.element,s=this.isMultiple,o=this._selectOptions(),u=this.selected(),a=this.selectedIndices();(t||this._isRebuildRequired())&&r._buildList(),r.setButtonText(),r.setButtonCount(),r.list.find("li:not(.ui-li-divider)").removeClass(e.mobile.activeBtnClass).attr("aria-selected",!1).each(function(t){if(e.inArray(t,a)>-1){var n=e(this);n.attr("aria-selected",!0),r.isMultiple?n.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):n.addClass(e.mobile.activeBtnClass)}})},close:function(){if(this.options.disabled||!this.isOpen)return;var e=this;e.menuType=="page"?t.history.back():(e.screen.addClass("ui-screen-hidden"),e.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in"),e.list.appendTo(e.listbox),e._focusButton()),e.isOpen=!1},open:function(){function v(){r.list.find("."+e.mobile.activeBtnClass+" a").focus()}if(this.options.disabled)return;var r=this,i=e(t),s=r.list.parent(),o=s.outerHeight(),u=s.outerWidth(),a=e(".ui-page-active"),f=a,l=i.scrollTop(),c=r.button.offset().top,h=i.height(),d=i.width();r.button.addClass(e.mobile.activeBtnClass),setTimeout(function(){r.button.removeClass(e.mobile.activeBtnClass)},300);if(o>h-80||!e.support.scrollTop)r.menuPage.appendTo(e.mobile.pageContainer).page(),r.menuPageContent=p.find(".ui-content"),r.menuPageClose=p.find(".ui-header a"),r.thisPage.unbind("pagehide.remove"),l==0&&c>h&&r.thisPage.one("pagehide",function(){e(this).jqmData("lastScroll",c)}),r.menuPage.one("pageshow",function(){e(t).one("silentscroll",function(){v()}),r.isOpen=!0}),r.menuType="page",r.menuPageContent.append(r.list),r.menuPage.find("div .ui-title").text(r.label.text()),e.mobile.changePage(r.menuPage,{transition:e.mobile.defaultDialogTransition});else{r.menuType="overlay",r.screen.height(e(n).height()).removeClass("ui-screen-hidden");var m=c-l,g=l+h-c,y=o/2,b=parseFloat(r.list.parent().css("max-width")),w,E;m>o/2&&g>o/2?w=c+r.button.outerHeight()/2-y:w=m>g?l+h-o-30:l+30,u<b?E=(d-u)/2:(E=r.button.offset().left+r.button.outerWidth()/2-u/2,E<30?E=30:E+u>d&&(E=d-u-30)),r.listbox.append(r.list).removeClass("ui-selectmenu-hidden").css({top:w,left:E}).addClass("in"),v(),r.isOpen=!0}},_buildList:function(){var t=this,r=this.options,i=this.placeholder,s=[],o=[],u=t.isMultiple?"checkbox-off":"false";t.list.empty().filter(".ui-listview").listview("destroy");var a=t.select.find("option"),f=a.length,l=this.select[0],c="data-"+e.mobile.ns,h=c+"option-index",p=c+"icon",d=c+"role",v=n.createDocumentFragment(),m;for(var g=0;g<f;g++){var y=a[g],b=e(y),w=y.parentNode,E=b.text(),S=n.createElement("a");classes=[],S.setAttribute("href","#"),S.appendChild(n.createTextNode(E));if(w!==l&&w.nodeName.toLowerCase()==="optgroup"){var x=w.getAttribute("label");if(x!=m){var T=n.createElement("li");T.setAttribute(d,"list-divider"),T.setAttribute("role","option"),T.setAttribute("tabindex","-1"),T.appendChild(n.createTextNode(x)),v.appendChild(T),m=x}}!i&&(!y.getAttribute("value")||E.length==0||b.jqmData("placeholder"))&&(r.hidePlaceholderMenuItems&&classes.push("ui-selectmenu-placeholder"),i=t.placeholder=E);var N=n.createElement("li");y.disabled&&(classes.push("ui-disabled"),N.setAttribute("aria-disabled",!0)),N.setAttribute(h,g),N.setAttribute(p,u),N.className=classes.join(" "),N.setAttribute("role","option"),S.setAttribute("tabindex","-1"),N.appendChild(S),v.appendChild(N)}t.list[0].appendChild(v),this.isMultiple||this.headerClose.hide(),!this.isMultiple&&!i.length?this.header.hide():this.headerTitle.text(this.placeholder),t.list.listview()},_button:function(){return e("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};e(n).delegate("select","selectmenubeforecreate",function(){var t=e(this).data("selectmenu");t.options.nativeMenu||i(t)})}(jQuery),function(e,r){e.widget("mobile.fixedtoolbar",e.mobile.widget,{options:{visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, input, select, textarea, .ui-header-fixed, .ui-footer-fixed",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){var e=t,n=navigator.userAgent,r=navigator.platform,i=n.match(/AppleWebKit\/([0-9]+)/),s=!!i&&i[1],o=n.match(/Fennec\/([0-9]+)/),u=!!o&&o[1],a=n.match(/Opera Mobile\/([0-9]+)/),f=e.blackberry&&e.navigator.appVersion.match(/Version\/([0-9]+)/),l=!!f&&parseInt(f[1],10),c=!!a&&a[1];return(r.indexOf("iPhone")>-1||r.indexOf("iPad")>-1||r.indexOf("iPod")>-1)&&s&&s<534||e.operamini&&{}.toString.call(e.operamini)==="[object OperaMini]"||a&&omverson<7458||n.indexOf("Android")>-1&&s&&s<533||u&&u<6||"palmGetResource"in t&&s&&s<534||e.blackberry&&l<7||n.indexOf("MeeGo")>-1&&n.indexOf("NokiaBrowser/8.5.0")>-1?!0:!1},initSelector:":jqmData(position='fixed')"},_create:function(){var e=this,t=e.options,n=e.element,r=n.is(".ui-header")?"header":"footer",i=n.closest(".ui-page");if(t.supportBlacklist()){e.destroy();return}n.addClass("ui-"+r+"-fixed"),n.jqmData("fullscreen")?(n.addClass("ui-"+r+"-fullscreen"),i.addClass("ui-page-"+r+"-fullscreen")):i.addClass("ui-page-"+r+"-fixed"),e._addTransitionClass(),e._bindPageEvents(),e._bindToggleHandlers()},_addTransitionClass:function(){var e=this.options.transition;e&&e!=="none"&&(e==="slide"&&(e=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(e))},_bindPageEvents:function(){var n=this,r=n.options,i=n.element;i.closest(".ui-page").bind("pagebeforeshow",function(){r.disablePageZoom&&e.mobile.zoom.disable(!0),r.visibleOnPageShow&&n.show(!0)}).bind("webkitAnimationStart animationstart updatelayout",function(){r.updatePagePadding&&n.updatePagePadding()}).bind("pageshow",function(){n.updatePagePadding(),r.updatePagePadding&&e(t).bind("throttledresize."+n.widgetName,function(){n.updatePagePadding()})}).bind("pagebeforehide",function(i,s){r.disablePageZoom&&e.mobile.zoom.enable(!0),r.updatePagePadding&&e(t).unbind("throttledresize."+n.widgetName);if(r.trackPersistentToolbars){var u=e(".ui-footer-fixed:jqmData(id)",this),a=e(".ui-header-fixed:jqmData(id)",this),f=u.length&&s.nextPage&&e(".ui-footer-fixed:jqmData(id='"+u.jqmData("id")+"')",s.nextPage),l=a.length&&s.nextPage&&e(".ui-header-fixed:jqmData(id='"+a.jqmData("id")+"')",s.nextPage);if(f.length||l.length)f.add(l).appendTo(e.mobile.pageContainer),s.nextPage.one("pageshow",function(){f.add(l).appendTo(this)})}})},_visible:!1,updatePagePadding:function(){var e=this.element,t=e.is(".ui-header");if(this.options.fullscreen)return;e.closest(".ui-page").css("padding-"+(t?"top":"bottom"),e.outerHeight())},show:function(n){var r="ui-fixed-hidden",i=this.element,s=e(t),o=s.scrollTop(),u=i.height(),a=i.closest(".ui-page").height(),f=Math.min(screen.height,s.height()),l=i.is(".ui-header")?"header":"footer";!n&&(this.options.transition&&this.options.transition!=="none"&&(l==="header"&&!this.options.fullscreen&&o>u||l==="footer"&&!this.options.fullscreen&&o+f<a-u)||this.options.fullscreen)?i.removeClass("out "+r).addClass("in"):i.removeClass(r),this._visible=!0},hide:function(n){var r="ui-fixed-hidden",i=this.element,s=e(t),o=s.scrollTop(),u=i.height(),a=i.closest(".ui-page").height(),f=Math.min(screen.height,s.height()),l=i.is(".ui-header")?"header":"footer",c="out"+(this.options.transition==="slide"?" reverse":"");!n&&(this.options.transition&&this.options.transition!=="none"&&(l==="header"&&!this.options.fullscreen&&o>u||l==="footer"&&!this.options.fullscreen&&o+f<a-u)||this.options.fullscreen)?i.addClass(c).removeClass("in").animationComplete(function(){i.addClass(r).removeClass(c)}):i.addClass(r).removeClass(c),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var t=this,n=t.options,r=t.element;r.closest(".ui-page").bind("vclick",function(r){n.tapToggle&&!e(r.target).closest(n.tapToggleBlacklist).length&&t.toggle()}).bind("focusin focusout",function(r){screen.width<500&&e(r.target).is(n.hideDuringFocus)&&!e(r.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&t[r.type==="focusin"&&t._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden"),this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}}),e(n).bind("pagecreate create",function(t){e.mobile.fixedtoolbar.prototype.enhanceWithin(t.target)})}(jQuery),function(e,t){function a(e){r=e.originalEvent,u=r.accelerationIncludingGravity,i=Math.abs(u.x),s=Math.abs(u.y),o=Math.abs(u.z),!t.orientation&&(i>7||(o>6&&s<8||o<8&&s>6)&&i>5)?n.enabled&&n.disable():n.enabled||n.enable()}if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1))return;var n=e.mobile.zoom,r,i,s,o,u;e(t).bind("orientationchange.iosorientationfix",n.enable).bind("devicemotion.iosorientationfix",a)}(jQuery,this),function(e,t,r){function f(){a.css({top:e.support.scrollTop&&o.scrollTop()+o.height()/2||activeBtn.length&&activeBtn.offset().top||100})}function l(){a.offset().top<o.scrollTop()&&(a.addClass("ui-loader-fakefix"),f(),o.unbind("scroll",l).bind("scroll",f))}function c(){i.removeClass("ui-mobile-rendering")}var i=e("html"),s=e("head"),o=e(t);e(t.document).trigger("mobileinit");if(!e.mobile.gradeA())return;e.mobile.ajaxBlacklist&&(e.mobile.ajaxEnabled=!1),i.addClass("ui-mobile ui-mobile-rendering"),setTimeout(c,5e3);var u="ui-loader",a=e("<div class='"+u+"'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>");e.extend(e.mobile,{showPageLoadingMsg:function(t,n,r){i.addClass("ui-loading");if(e.mobile.loadingMessage){var s=e("."+e.mobile.activeBtnClass).first(),t=t||e.mobile.loadingMessageTheme,f=r||e.mobile.loadingMessageTextVisible;a.attr("class",u+" ui-corner-all ui-body-"+(t||"a")+" ui-loader-"+(f?"verbose":"default")+(r?" ui-loader-textonly":"")).find("h1").text(n||e.mobile.loadingMessage).end().appendTo(e.mobile.pageContainer),l(),o.bind("scroll",l)}},hidePageLoadingMsg:function(){i.removeClass("ui-loading"),e.mobile.loadingMessage&&a.removeClass("ui-loader-fakefix"),e(t).unbind("scroll",f)},initializePage:function(){var t=e(":jqmData(role='page'), :jqmData(role='dialog')");t.length||(t=e("body").wrapInner("<div data-"+e.mobile.ns+"role='page'></div>").children(0)),t.each(function(){var t=e(this);t.jqmData("url")||t.attr("data-"+e.mobile.ns+"url",t.attr("id")||location.pathname+location.search)}),e.mobile.firstPage=t.first(),e.mobile.pageContainer=t.first().parent().addClass("ui-mobile-viewport"),o.trigger("pagecontainercreate"),e.mobile.showPageLoadingMsg(),c(),!e.mobile.hashListeningEnabled||!e.mobile.path.stripHash(location.hash)?e.mobile.changePage(e.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}):o.trigger("hashchange",[!0])}}),e.mobile._registerInternalEvents(),e(function(){t.scrollTo(0,1),e.mobile.defaultHomeScroll=!e.support.scrollTop||e(t).scrollTop()===1?0:1,e.fn.controlgroup&&e(n).bind("pagecreate create",function(t){e(":jqmData(role='controlgroup')",t.target).jqmEnhanceable().controlgroup({excludeInvisible:!1})}),e.mobile.autoInitializePage&&e.mobile.initializePage(),o.load(e.mobile.silentScroll)})}(jQuery,this)});